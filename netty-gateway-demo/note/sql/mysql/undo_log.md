# undo log
- redo log：事务中操作的任何数据，MySQL都会将最新的数据备份到一个地方，主要是用来**保证事务的持久性**
- undo log：在操作任何数据之前，记录数据被修改之前的值 **保证事务的原子性**
    - 实现回滚操作,；出现异常或者执行rollback操作，利用备份恢复数据来实现回滚
    - 实现多个行版本控制mvcc（有时候应用到行版本控制的时候，也是通过undo log来实现的：
        当读取的某一行被其他事务锁定时，它可以从undo log中分析出该行记录以前的数据是什么，
        从而提供该行版本信息，让用户实现非锁定一致性读取）
        
 undo log和redo log记录物理日志不一样，**它是逻辑日志**。
 可以认为当delete一条记录时，undo log中会记录一条对应的insert记录，
 反之亦然，当update一条记录时，它记录一条对应相反的update记录。
        
## redo_undo大体流程

![redo_undo](redo_undo.png)